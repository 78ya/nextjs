# API 接口列表页面

这个页面提供了一个可视化的接口列表和测试工具，可以方便地查看项目中所有的API接口并进行测试。

## 功能特性

- 📋 **自动扫描** - 自动扫描 `app/api` 目录下的所有路由文件
- 🔍 **接口信息展示** - 显示接口路径、支持的HTTP方法和描述信息
- 🧪 **在线测试** - 可以直接在页面上发起请求并查看响应结果
- ⚡ **响应时间统计** - 显示请求的响应时间和状态码
- 🌓 **深色模式支持** - 自动适配系统的深色/浅色模式

## 使用方法

1. 启动开发服务器：
   ```bash
   npm run dev
   ```

2. 访问 API 列表页面：
   ```
   http://localhost:3000/api/list
   ```

3. 在列表中选择要测试的接口

4. 选择请求方法（GET、POST、PUT、DELETE等）

5. 输入请求URL（默认为本地开发服务器地址）

6. 对于非GET/HEAD请求，可以输入JSON格式的请求体

7. 点击「发送请求」按钮

8. 查看响应结果、状态码和响应时间

## 如何添加接口描述

在路由文件的顶部添加JSDoc注释或单行注释，系统会自动提取作为接口描述：

```typescript
/**
 * 初始化数据库表
 * 这个接口用于创建应用所需的所有数据库表
 */
export async function GET(request: Request) {
  // 接口实现...
}
```

或者使用单行注释：

```typescript
// 重置数据库 - 清空所有表数据
export async function POST(request: Request) {
  // 接口实现...
}
```

## 技术实现

- **服务端渲染** - 使用Next.js的服务端组件自动扫描和展示API路由
- **动态分析** - 通过正则表达式分析route.ts文件中的HTTP方法函数
- **客户端交互** - 使用React客户端组件处理请求发送和响应显示
- **文件系统操作** - 使用Node.js的fs模块扫描项目文件结构

## 注意事项

- 确保在开发环境中访问，生产环境可能需要额外的权限配置
- 请求体必须是有效的JSON格式
- 跨域请求可能需要额外的CORS配置
- 页面会自动排除自身（/api/list），避免递归显示